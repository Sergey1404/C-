https://onlinegdb.com/NUmUfnVLY
/*******************************
* Автор: Тупиленко С.Д.        *
* Дата: 20.11.2021             *
* Название: Перевод чисел      *
********************************/
#include <iostream>
using namespace std;
int main() {
    setlocale(LC_ALL,"Russian");
    int arab, M = 0, D = 0, C = 0, L = 0, X = 0, V = 0, I = 0, mid = 0, i, v, a, numb_arab = 0;
    char numb_rome;
    cout << "1 - Из арабских чисел в римские, 2 - из римских в арабские: ";
    cin >> v;
    switch (v) {
        case 1: {
            cout << "введите число (1-3999) арабскими цифрами: "; cin >> arab;
            if (arab <= 0 || arab > 3999) {
                cout << "ошибка ввода, проверьте вводимое число" << endl << endl;
            } else if (arab == 3999) {
                cout << "MMMIM" << endl << endl;
            } else if (arab == 2999) {
                cout << "MMIM" << endl << endl;
            } else if (arab == 1999) {
                cout << "MIM" << endl << endl;
            }
            else {
                mid = arab;
                while (mid >= 1000) {
                if (mid >= 1000) M++;
                mid -= 1000;
                }
            mid = arab - M * 1000;
            while (mid >= 500) {
                if (mid >= 500) D++;
                mid -= 500;
                }
            mid = arab - M * 1000 - D * 500;
            while (mid >= 100) {
                if (mid >= 100) C++;
                mid -= 100;
            }
            mid = arab - M * 1000 - D * 500 - C * 100;
            while (mid >= 50) {
                if (mid >= 50) L++;
                mid -= 50;
            }
            mid = arab - M * 1000 - D * 500 - C * 100 - L * 50;
            while (mid >= 10) {
                if (mid >= 10) X++;
                mid -= 10;
            }
            mid = arab - M * 1000 - D * 500 - C * 100 - L * 50 - X * 10;
            while (mid >= 5) {
                if (mid >= 5) V++;
                mid -= 5;
            }
            mid = arab - M * 1000 - D * 500 - C * 100 - L * 50 - X * 10 - V * 5;
            while (mid >= 1) {
                if (mid >= 1) I++;
                mid -= 1;
            }
            for (i = 1; i <= M; i++) {
                cout << "M";
                if (D == 1 && C == 4) {
                    cout << "CM";
                } else if (D == 0 && C == 4) {
                    cout << "CD";
                } else {
                    for (i = 1; i <= D; i++) {
                        cout << "D";
                    }
                    for (i = 1; i <= C; i++) {
                        cout << "C";
                    }
                }
                if (L == 1 && X == 4) {
                    cout << "XC";
                    } else if (L == 0 && X == 4) {
                        cout << "XL";
                    } else {
                    for (i = 1; i <= L; i++) {
                        cout << "L";
                    } for (i = 1; i <= X; i++) {
                        cout << "X";
                    }
                    }
                    if (V == 1 && I == 4) {
                        cout << "IX";
                    }
                else {
                    for (i = 1; i <= V; i++) {
                        cout << "V";
                        if (I == 4) {
                            cout << "IV";
                        }
                        else for (i = 1; i <= I; i++) {
                            cout << "I";
                        }
                    }
                }
            }
            cout << endl << endl;
            }
        }
        break;
        case 2: {
            std::cout<<"Введите римское число: ";
            cin >> numb_rome;
                switch (numb_rome) {
                    case 'M': case 'm': numb_arab+=1000; break;
                    case 'D': case 'd': numb_arab+=500; break;
                    case 'C': case 'c': numb_arab+=100; break;
                    case 'L': case 'l': numb_arab+=50; break;
                    case 'X': case 'x': numb_arab+=10; break;
                    case 'V': case 'v': numb_arab+=5; break;
                    case 'I': case 'i': numb_arab++; break;
                }
            std::cout << "Арабское число: "<< numb_arab;
        }
        break;
    }
    return 0;
}
